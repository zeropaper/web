"use strict";(self.webpackChunkdocusaurus_template=self.webpackChunkdocusaurus_template||[]).push([[31207],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),h=p(n),d=a,k=h["".concat(s,".").concat(d)]||h[d]||c[d]||r;return n?i.createElement(k,o(o({ref:t},u),{},{components:n})):i.createElement(k,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},41181:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return u},default:function(){return h}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),o=["components"],l={id:"oauth2-grant-type-jwt-bearer",title:"JSON Web Token (JWT) Profile (RFC7523)"},s=void 0,p={unversionedId:"guides/oauth2-grant-type-jwt-bearer",id:"guides/oauth2-grant-type-jwt-bearer",isDocsHomePage:!1,title:"JSON Web Token (JWT) Profile (RFC7523)",description:"Ory Hydra is capable of performing the",source:"@site/docs/guides/oauth2-grant-type-jwt-bearer.mdx",sourceDirName:"guides",slug:"/guides/oauth2-grant-type-jwt-bearer",permalink:"/hydra/docs/next/guides/oauth2-grant-type-jwt-bearer",editUrl:"https://github.com/ory/hydra/edit/master/docs/docs/guides/oauth2-grant-type-jwt-bearer.mdx",tags:[],version:"current",lastUpdatedBy:"Vladimir Kalugin",lastUpdatedAt:1640542553,formattedLastUpdatedAt:"12/26/2021",frontMatter:{id:"oauth2-grant-type-jwt-bearer",title:"JSON Web Token (JWT) Profile (RFC7523)"},sidebar:"docs",previous:{title:"Creating OAuth 2.0 Clients",permalink:"/hydra/docs/next/guides/oauth2-clients"},next:{title:"Using Common OAuth2 and OpenID Connect Flows",permalink:"/hydra/docs/next/guides/common-oauth2-openid-connect-flows"}},u=[{value:"Exchanging JWTs for Access Tokens",id:"exchanging-jwts-for-access-tokens",children:[{value:"Establishing a Trust Relationship",id:"establishing-a-trust-relationship",children:[],level:3},{value:"OAuth2 JWT Bearer Grant Type Validation",id:"oauth2-jwt-bearer-grant-type-validation",children:[],level:3}],level:2},{value:"Using JWTs for Client Authentication",id:"using-jwts-for-client-authentication",children:[],level:2}],c={toc:u};function h(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Ory Hydra is capable of performing the\n",(0,r.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc7523"},"JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants"),".\nThis guide defines how a JWT Bearer Token can be used to request an access token\nwhen a client wishes to utilize an existing trust relationship, expressed\nthrough the semantics of the JWT, without a direct user-approval step at the\nauthorization server (Hydra)."),(0,r.kt)("p",null,"Ory Hydra supports both methods expressed in RFC 7523:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Using JWTs as Authorization Grants"),": Allows exchanging a JSON Web Token for\nan Access Token."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Using JWTs for Client Authentication"),": Allows OAuth 2.0 Client Authentication\nusing public/private keys via JSON Web Tokens.")),(0,r.kt)("h2",{id:"exchanging-jwts-for-access-tokens"},"Exchanging JWTs for Access Tokens"),(0,r.kt)("p",null,"To use the Authorization Grant ",(0,r.kt)("inlineCode",{parentName:"p"},"urn:ietf:params:oauth:grant-type:jwt-bearer"),",\nthe client performs an OAuth 2.0 Access Token Request as defined in\n",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc7521#section-4.1"},"Section 4.1 of the OAuth Assertion Framework RFC7521"),"\nwith the following specific parameter values and encodings:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The value of the ",(0,r.kt)("inlineCode",{parentName:"li"},"grant_type")," is\n",(0,r.kt)("inlineCode",{parentName:"li"},"urn:ietf:params:oauth:grant-type:jwt-bearer"),"."),(0,r.kt)("li",{parentName:"ul"},"The value of the ",(0,r.kt)("inlineCode",{parentName:"li"},"assertion")," parameter MUST contain a single JWT.")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"scope")," parameter may be used, as defined in the OAuth Assertion Framework\n",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc7521"},"RFC7521"),", to indicate the\nrequested scope:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\nHost: public.hydra.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer\n&assertion=eyJhbGciOiJFUzI1NiIsImtpZCI6IjE2In0.\neyJpc3Mi[...omitted for brevity...].\nJ9l-ZhwP[...omitted for brevity...]\n")),(0,r.kt)("p",null,"Clients using this grant must be authenticated."),(0,r.kt)("h3",{id:"establishing-a-trust-relationship"},"Establishing a Trust Relationship"),(0,r.kt)("p",null,"Before using this grant type, you must establish a trust relationship in Ory\nHydra. This involves registering the issuer, subject, and the public key at Ory\nHydra's Admin Endpoint:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'POST https://<admin.ory-hydra>/trust/grants/jwt-bearer/issuers\nContent-Type: application/json\n\n{\n  // The issuer you want to trust.\n  "issuer": "https://my-issuer.com",\n\n  // The "sub" field of the access token to be created.\n  "subject": "alice@example.org",\n\n  // The allowed scope of the generated access token.\n  "scope": ["read"],\n\n  // The public key with which the JWT Bearer\'s signature can be verified.\n  "jwk": {\n    "kty":"RSA",\n    "e":"AQAB",\n    "kid":"d8e91f55-67e0-4e56-a066-6a5f0c2efdf7",\n    "n":"nzyis1ZjfNB0bBgKFMSvvkTtwlvBsaJq7S5wA-kzeVOVpVWwkWdVha4s38XM_pa_yr47av7-z3VTmvDRyAHcaT92whREFpLv9cj5lTeJSibyr_Mrm_YtjCZVWgaOYIhwrXwKLqPr_11inWsAkfIytvHWTxZYEcXLgAXFuUuaS3uF9gEiNQwzGTU1v0FqkqTBr4B8nW3HCN47XUu0t8Y0e-lf4s4OxQawWD79J9_5d3Ry0vbV3Am1FtGJiJvOwRsIfVChDpYStTcHTCMqtvWbV6L11BWkpzGXSW4Hv43qa-GSYOD2QU68Mb59oSk2OB-BtOLpJofmbGEGgvmwyCI9Mw"\n  }\n\n  // When this trust relationship expires.\n  "expires_at": "2021-04-23T18:25:43.511Z",\n}\n')),(0,r.kt)("p",null,"The above example would allow the following JWT Bearer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL215LWlzc3Vlci5jb20iLCJzdWIiOiJhbGljZUBleGFtcGxlLm9yZyIsImF1ZCI6Imh0dHBzOi8vcHVibGljLmh5ZHJhLmNvbS9vYXV0aDIvdG9rZW4iLCJuYmYiOjEzMDA4MTU3ODAsImV4cCI6MTMwMDgxOTM4MH0.baBiLrVRRU1AKYvAn0X4eIeLvFfpe2wsoD3VTMtaYdbEW2-w-SFeGeEzl5B6sh612bfKkoeihhFVx2md7DP-Rl5asicJzeIhcPETzZbVSPxR1lFdOBwcIPG5N70aSJs2zSn3jnRIhpZf85YZOI8RbQ93Kxla741_4xruHbsNRFqIuWVhxk95BCCnoXzEd8vBTxd_GMn9VijUY_piLPMo-OifRF9pSjYo38aJmRW1tJzeFCMruc9X1W-2c-L_t3rV7zYBH3LlpDZfwyy3T5Pmqf6QKeq1N-MjLnIJcZGT89jqxLmqVFRvAiEyA6iMQXVxmENOnwylGPwuR8DewhWMqg\n")),(0,r.kt)("p",null,"which has the claims"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json5"},"{\n  iss: 'https://my-issuer.com',\n  sub: 'alice@example.org',\n  aud: 'https://public.hydra.com/oauth2/token',\n  nbf: 1300815780,\n  exp: 1300819380\n}\n")),(0,r.kt)("p",null,"to be exchanged for an OAuth2 Access Token (the ",(0,r.kt)("inlineCode",{parentName:"p"},"scope")," parameter is optional!)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\nHost: public.hydra.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer\n&scope=read\n&assertion=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL215LWlzc3Vlci5jb20iLCJzdWIiOiJhbGljZUBleGFtcGxlLm9yZyIsImF1ZCI6Imh0dHBzOi8vcHVibGljLmh5ZHJhLmNvbS9vYXV0aDIvdG9rZW4iLCJuYmYiOjEzMDA4MTU3ODAsImV4cCI6MTMwMDgxOTM4MH0.baBiLrVRRU1AKYvAn0X4eIeLvFfpe2wsoD3VTMtaYdbEW2-w-SFeGeEzl5B6sh612bfKkoeihhFVx2md7DP-Rl5asicJzeIhcPETzZbVSPxR1lFdOBwcIPG5N70aSJs2zSn3jnRIhpZf85YZOI8RbQ93Kxla741_4xruHbsNRFqIuWVhxk95BCCnoXzEd8vBTxd_GMn9VijUY_piLPMo-OifRF9pSjYo38aJmRW1tJzeFCMruc9X1W-2c-L_t3rV7zYBH3LlpDZfwyy3T5Pmqf6QKeq1N-MjLnIJcZGT89jqxLmqVFRvAiEyA6iMQXVxmENOnwylGPwuR8DewhWMqg\n")),(0,r.kt)("p",null,"with resulting access token claims:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "iss": "https://public.hydra.com/",\n  "sub": "alice@example.org",\n  "scp": ["read"],\n  // ...\n}\n')),(0,r.kt)("p",null,"You can also delete, get, and list trust relationships. Please check the\n",(0,r.kt)("a",{parentName:"p",href:"/hydra/docs/next/reference/api"},"HTTP REST API documentation")," for more details."),(0,r.kt)("h3",{id:"oauth2-jwt-bearer-grant-type-validation"},"OAuth2 JWT Bearer Grant Type Validation"),(0,r.kt)("p",null,"When performing the ",(0,r.kt)("inlineCode",{parentName:"p"},"urn:ietf:params:oauth:grant-type:jwt-bearer")," Authorization\nGrant, the JWT Bearer in the ",(0,r.kt)("inlineCode",{parentName:"p"},"assertion")," parameter is validated as follows:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The JWT MUST contain an ",(0,r.kt)("inlineCode",{parentName:"li"},"iss")," (issuer) claim that contains a unique\nidentifier for the entity that issued the JWT. The value must match the\n",(0,r.kt)("inlineCode",{parentName:"li"},"issuer")," value of the trust relationship."),(0,r.kt)("li",{parentName:"ol"},"The JWT MUST contain a ",(0,r.kt)("inlineCode",{parentName:"li"},"sub")," (subject) claim identifying the principal that\nis the subject of the JWT (e.g. user ID). The value must match the ",(0,r.kt)("inlineCode",{parentName:"li"},"subject"),"\nvalue of the trust relationship."),(0,r.kt)("li",{parentName:"ol"},"The JWT MUST contain an ",(0,r.kt)("inlineCode",{parentName:"li"},"aud")," (audience) claim containing a value that\nidentifies the authorization server (Hydra) as an intended audience. So this\nvalue must be Hydra Token URL."),(0,r.kt)("li",{parentName:"ol"},"The JWT MUST contain an ",(0,r.kt)("inlineCode",{parentName:"li"},"exp")," (expiration time) claim that limits the time\nwindow during which the JWT can be used. Can be controlled by\n",(0,r.kt)("inlineCode",{parentName:"li"},"oauth2.grant.jwt.max_ttl")," setting."),(0,r.kt)("li",{parentName:"ol"},"The JWT MAY contain an ",(0,r.kt)("inlineCode",{parentName:"li"},"nbf")," (not before) claim that identifies the time\nbefore which the token MUST NOT be accepted for processing by Hydra."),(0,r.kt)("li",{parentName:"ol"},"The JWT MAY contain an ",(0,r.kt)("inlineCode",{parentName:"li"},"iat")," (issued at) claim that identifies the time at\nwhich the JWT was issued. Controlled by ",(0,r.kt)("inlineCode",{parentName:"li"},"oauth2.grant.jwt.iat_optional"),"\n(default ",(0,r.kt)("inlineCode",{parentName:"li"},"false"),") If ",(0,r.kt)("inlineCode",{parentName:"li"},"iat")," is not passed, then current time (when assertion\nis received by Hydra) will be considered as issued date."),(0,r.kt)("li",{parentName:"ol"},"The JWT MAY contain a ",(0,r.kt)("inlineCode",{parentName:"li"},"jti")," (JWT ID) claim that provides a unique identifier\nfor the token. Controlled by ",(0,r.kt)("inlineCode",{parentName:"li"},"oauth2.grant.jwt.jti_optional")," (default\n",(0,r.kt)("inlineCode",{parentName:"li"},"false"),") setting. ",(0,r.kt)("strong",{parentName:"li"},"Note"),": If ",(0,r.kt)("inlineCode",{parentName:"li"},"jti")," is configured to be required, then Hydra\nwill reject all assertions with the same ",(0,r.kt)("inlineCode",{parentName:"li"},"jti"),", if ",(0,r.kt)("inlineCode",{parentName:"li"},"jti")," was already used by\nsome assertion, and this assertion is not expired yet (see ",(0,r.kt)("inlineCode",{parentName:"li"},"exp")," claim)."),(0,r.kt)("li",{parentName:"ol"},"The JWT MUST be digitally signed.")),(0,r.kt)("p",null,"If a scope was included in the OAuth2 Access Token Request"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\nHost: public.hydra.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer\n&scope=read\n&assertion=...\n")),(0,r.kt)("p",null,"Hydra will check them against scopes defined in the corresponding trust\nrelationship."),(0,r.kt)("h2",{id:"using-jwts-for-client-authentication"},"Using JWTs for Client Authentication"),(0,r.kt)("p",null,"ORY Hydra supports OAuth 2.0 Client Authentication with RSA and ECDSA\nprivate/public keypairs with currently supported signing algorithms:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"RS256 (default), RS384, RS512"),(0,r.kt)("li",{parentName:"ul"},"PS256, PS384, PS512"),(0,r.kt)("li",{parentName:"ul"},"ES256, ES384, ES512"),(0,r.kt)("li",{parentName:"ul"},"EdDSA")),(0,r.kt)("p",null,"This authentication method replaces the classic HTTP Basic Authorization and\nHTTP POST Authorization schemes. Instead of sending the ",(0,r.kt)("inlineCode",{parentName:"p"},"client_id")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"client_secret"),", you authenticate the client with a signed JSON Web Token."),(0,r.kt)("p",null,"To enable this feature for a specific OAuth 2.0 Client, you must set\n",(0,r.kt)("inlineCode",{parentName:"p"},"token_endpoint_auth_method")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"private_key_jwt")," and register the public key of\nthe RSA/ECDSA signing key either using the ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks_uri")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks")," fields of the\nclient."),(0,r.kt)("p",null,"When authenticating the client at the token endpoint, you generate and sign\n(with the RSA/ECDSA private key) a JSON Web Token with the following claims:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"iss"),": REQUIRED. Issuer. This MUST contain the client_id of the OAuth Client."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sub"),": REQUIRED. Subject. This MUST contain the client_id of the OAuth Client."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"aud"),": REQUIRED. Audience. The aud (audience) Claim. Value that identifies the\nAuthorization Server (ORY Hydra) as an intended audience. The Authorization\nServer MUST verify that it is an intended audience for the token. The Audience\nSHOULD be the URL of the Authorization Server's Token Endpoint."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"jti"),": REQUIRED. JWT ID. A unique identifier for the token, which can be used\nto prevent reuse of the token. These tokens MUST only be used once, unless\nconditions for reuse were negotiated between the parties; any such negotiation\nis beyond the scope of this specification."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exp"),": REQUIRED. Expiration time on or after which the ID Token MUST NOT be\naccepted for processing."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"iat"),": OPTIONAL. Time at which the JWT was issued.")),(0,r.kt)("p",null,"When making a request to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/oauth2/token")," endpoint, you include\n",(0,r.kt)("inlineCode",{parentName:"p"},"client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),"\nand ",(0,r.kt)("inlineCode",{parentName:"p"},"client_assertion=<signed-jwt>")," in the request body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\nHost: my-hydra.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&\ncode=i1WsRn1uB1&\nclient_id=s6BhdRkqt3&\nclient_assertion_type=\nurn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&\nclient_assertion=PHNhbWxwOl ... ZT\n")),(0,r.kt)("p",null,"Here's what a client with a ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks")," containing one RSA public key looks like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client_id": "rsa-client-jwks",\n  "jwks": {\n    "keys": [\n      {\n        "kty": "RSA",\n        "n": "jL7h5wc-yeMUsHGJHc0xe9SbTdaLKXMHvcIHQck20Ji7SvrHPdTDQTvZtTDS_wJYbeShcCrliHvbJRSZhtEe0mPJpyWg3O_HkKy6_SyHepLK-_BR7HfcXYB6pVJCG3BW-lVMY7gl5sULFA74kNZH50h8hdmyWC9JgOHn0n3YLdaxSWlhctuwNPSwqwzY4qtN7_CZub81SXWpKiwj4UpyB10b8rM8qn35FS1hfsaFCVi0gQpd4vFDgFyqqpmiwq8oMr8RZ2mf0NMKCP3RXnMhy9Yq8O7lgG2t6g1g9noWbzZDUZNc54tv4WGFJ_rJZRz0jE_GR6v5sdqsDTdjFquPlQ",\n        "e": "AQAB",\n        "use": "sig",\n        "kid": "rsa-jwk"\n      }\n    ]\n  },\n  "token_endpoint_auth_method": "private_key_jwt",\n  "token_endpoint_auth_signing_alg": "RS256"\n}\n')),(0,r.kt)("p",null,"And here is how it looks like for a ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks")," including an ECDSA public key:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client_id": "ecdsa-client-jwks",\n  "jwks": {\n    "keys": [\n      {\n        "kty": "EC",\n        "use": "sig",\n        "crv": "P-256",\n        "kid": "ecdsa-jwk",\n        "x": "nQjdhpecjZRlworpYk_TJAQBe4QbS8IwHY1DWkfR0w0",\n        "y": "UQfLzHxhc4i3EETUeaAS1vDVFJ-Y01hIESiXqqS86Vc"\n      }\n    ]\n  },\n  "token_endpoint_auth_method": "private_key_jwt",\n  "token_endpoint_auth_signing_alg": "ES256"\n}\n')),(0,r.kt)("p",null,"And here is how it looks like for a ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks")," including an EdDSA public key:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client_id": "eddsa-client-jwks",\n  "jwks": {\n    "keys": [\n      {\n        "kty": "OKP",\n        "use": "sig",\n        "crv": "Ed25519",\n        "kid": "eddsa-jwk",\n        "x": "cg1qGqQGSF6xvzoDZVaDfxu0c2fPhUEuVHYUr1WYVXs"\n      }\n    ]\n  },\n  "token_endpoint_auth_method": "private_key_jwt",\n  "token_endpoint_auth_signing_alg": "EdDSA"\n}\n')),(0,r.kt)("p",null,"And with ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks_uri"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client_id": "client-jwks-uri",\n  "jwks_uri": "http://path-to-my-public/keys.json",\n  "token_endpoint_auth_method": "private_key_jwt",\n  "token_endpoint_auth_signing_alg": "RS256"\n}\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"jwks_uri")," must return a JSON object containing the public keys associated\nwith the OAuth 2.0 Client:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "keys": [\n    {\n      "kty": "RSA",\n      "n": "jL7h5wc-yeMUsHGJHc0xe9SbTdaLKXMHvcIHQck20Ji7SvrHPdTDQTvZtTDS_wJYbeShcCrliHvbJRSZhtEe0mPJpyWg3O_HkKy6_SyHepLK-_BR7HfcXYB6pVJCG3BW-lVMY7gl5sULFA74kNZH50h8hdmyWC9JgOHn0n3YLdaxSWlhctuwNPSwqwzY4qtN7_CZub81SXWpKiwj4UpyB10b8rM8qn35FS1hfsaFCVi0gQpd4vFDgFyqqpmiwq8oMr8RZ2mf0NMKCP3RXnMhy9Yq8O7lgG2t6g1g9noWbzZDUZNc54tv4WGFJ_rJZRz0jE_GR6v5sdqsDTdjFquPlQ",\n      "e": "AQAB",\n      "use": "sig",\n      "kid": "rsa-jwk"\n    }\n  ]\n}\n')))}h.isMDXComponent=!0}}]);